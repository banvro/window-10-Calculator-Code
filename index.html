<!DOCTYPE html>
<html>
<head>
    <title>
        Calculator
    </title>
    <link rel="icon" href="icon.png" type="image/x-png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.js"
            integrity="sha512-BbVEDjbqdN3Eow8+empLMrJlxXRj5nEitiCAK5A1pUr66+jLVejo3PmjIaucRnjlB0P9R3rBUs3g5jXc8ti+fQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer">
    </script>

    <link rel="stylesheet" href="style.css" />
    <script src="script.js"></script>

</head>
<body>

    <!--<div class="sidebar" id="sidebar">
        <a href="#" class="closebtn" onclick="closeSidebar()">&times;</a>
        <a href="index.html">Scientific</a>
        <a href="index.html">Standard</a>
    </div>-->
    <!--<div class="content">
        <button class="openbtn" onclick="toggleSidebar()">☰ </button>
    </div>-->

    <div class="calculator-container">

        <!--<div class="content">
            <button class="openbtn" onclick="toggleSidebar()"><h3>☰ Calculator</</h3></button>
        </div>-->

        <h3>☰ Scientific</h3>
        <div class="screen">
            <input id="display" value="0" type="text" onkeypress='return restrictAlphabets(event)' style="text-align: right;" oninput="clearDefaultValue(this)">
            <input id="display2" type="text" style="text-align: right;" readonly>
        </div>
        <!--onkeypress='return restrictAlphabets(event)'-->

        <div class="grid-container1">
            <input type="button" id="deg" onclick="toggleAngleUnit()" value="DEG">
            <input type="button" id="notation" onclick="toggleNotation()" value="F-E">
        </div>

        <div class="grid-container">
            <input type="button" value="MC" id="MCButton" onclick="clearMemory()" disabled>
            <input type="button" id="MRButton" value="MR" onclick="recallMemory()" disabled>
            <input type="button" value="M+" onclick="addToMemory()">
            <input type="button" value="M-" onclick="subtractFromMemory()">
            <input type="button" value="MS" onclick="setMemory()">
        </div>

        <div class="horizontal-rule"></div>

        <div class="dropdown">
            <button class="dropbtn-trigno" onclick="toggleDropdown('trignometry','4')">⊿ Trignometry ⌄</button>
            <!--<b>&#8895;</b>-->
            <div class="dropup-content" id="trignometryDropdown">
                <button class="trignometry-btn">2nd</button>
                <button class="trignometry-btn" id="1" onclick="Sine()">sin</button>
                <button class="trignometry-btn" id="2" onclick="Cosine()">cos</button>
                <button class="trignometry-btn" id="3" onclick="Tangent()">tan</button>
                <button class="trignometry-btn">hype</button>
                <button class="trignometry-btn" id="4" onclick="Sec()">sec</button>
                <button class="trignometry-btn" id="5" onclick="Cosec()">csc</button>
                <button class="trignometry-btn" id="6" onclick="Cot()">cot</button>

            </div>
        </div>


        <div class="dropdown">
            <button class="dropbtn-function" onclick="toggleDropdown('function' , '3')">𝑓 Function ⌄</button>
            <div class="dropup-content" id="functionDropdown">
                <button class="function-btn" onclick="AbsoluteFunction()">|x|</button>
                <button class="function-btn" onclick="CeilingFunction()">⌊x⌋</button>
                <button class="function-btn" onclick="FloorFunction()">⌈x⌉</button>
                <button class="function-btn" onclick="RandomFunction()">rand</button>
                <button class="function-btn" onclick="ConvertToDMS()">→dms</button>
                <button class="function-btn" onclick="DMSToDegree()">→deg</button>
            </div>
        </div>

        <div class="forms">
            <table>
                <tr>
                    <td>
                        <input type="button" id="second" class="button" value="2nd" />
                    </td>
                    <td>
                        <input type="button" value="π" onclick="pi()" />
                    </td>
                    <td>
                        <input type="button" value="e" onclick="e()" />
                    </td>
                    <td>
                        <input type="button" value="CE" onclick="clr()" />
                    </td>
                    <td>
                        <input type="button" value="⌫" class="backspace" onclick="backspace()">
                    </td>

                </tr>

                <tr>

                    <td>
                        <button class="button" id="7" onclick="Exponentiation()">x<sup>2</sup></button>

                    </td>
                    <td>
                        <input type="button" value="1/x" onclick="reciprocal()">
                    </td>
                    <td>
                        <input type="button" value=" |x|" onclick="AbsoluteFunction()">
                    </td>
                    <td>
                        <input type="button" value="exp"
                               onclick="ConvertToScientificNotation()">
                    </td>
                    <td>
                        <input type="button" value="mod" onclick="display.value += '%'">
                    </td>
                </tr>
                <tr>

                    <td>
                        <button class="button" id="8" onclick="SquareRoot()"><sup>2</sup>√x</button>
                    </td>
                    <td>
                        <input type="button" value="("
                               onclick="display.value += '('">
                    </td>
                    <td>
                        <input type="button" value=")"
                               onclick="display.value += ')'">
                    </td>
                    <td>
                        <input type="button" value="n!" style="font-style:italic" onclick="display.value += '!'; calculateFactorial()">
                    </td>
                    
                    <td>
                        <input type="button" value="/"
                               onclick="display.value += '/'">
                    </td>
                </tr>
                <tr>

                    <td>
                        <button class="button" id="9" onclick="display.value += '^'">x<sup>y</sup></button>
                    </td>
                    <td>
                        <input type="button" value="7" class="digit"
                               onclick="display.value += '7'">
                    </td>
                    <td>
                        <input type="button" class="digit" value="8" onclick="display.value += '8'" />
                    </td>

                    <td>
                        <input type="button" class="digit" value="9"
                               onclick="display.value += '9'">
                    </td>
                    <td>
                        <input type="button" value="x"
                               onclick="display.value += '*'">
                    </td>
                </tr>
                <tr>

                    <td>
                        <button class="button" id="10" onclick="power()">10<sup>x</sup></button>
                    </td>
                    <td>
                        <input type="button" value="4" class="digit"
                               onclick="display.value += '4'">
                    </td>
                    <td>
                        <input type="button" value="5" class="digit"
                               onclick="display.value += '5'">
                    </td>
                    <td>
                        <input type="button" value="6" class="digit"
                               onclick="display.value += '6'">
                    </td>
                    <td>
                        <input type="button" value="-"
                               onclick="display.value += '-'">
                    </td>
                </tr>
                <tr>

                    <td>
                        <button class="button" id="11"
                                onclick="base10Log()">
                            log
                        </button>
                    </td>
                    <td>
                        <input type="button" value="1" class="digit"
                               onclick="display.value += '1'">
                    </td>
                    <td>
                        <input type="button" value="2" class="digit"
                               onclick="display.value += '2'">
                    </td>
                    <td>
                        <input type="button" value="3" class="digit"
                               onclick="display.value += '3'">
                    </td>
                    <td>
                        <input type="button" value="+"
                               onclick="display.value += '+'">
                    </td>
                </tr>
                <tr>
                    <td>
                        <button class="button" id="12"
                                onclick="ln()">
                            ln
                        </button>
                    </td>
                    <td>
                        <input type="button" value="+/-" onclick="changeSign(document.getElementById('display'))">
                    </td>
                    <td>
                        <input type="button" value="0" class="digit"
                               onclick="display.value += '0'">
                    </td>
                    <td>
                        <input type="button" value="." class="digit"
                               onclick="display.value += '.'">
                    </td>
                    <td>
                        <input type="button" class="equal" value="=" style="background-color: #333333; color: white;" onclick="calculate(); addToHistory(display.value, display2.value)">
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="form">
        <div class="navbar">
            <ul>
                <li onclick="changeTab(this)" data-tab="History" class="History-tab clicked">History</li>
                <li onclick="changeTab(this)" data-tab="Memory" class="Memory-tab">Memory</li>
            </ul>
        </div>

        <div class="body" id="form-body">
            <div class="History" id="historyText">
                <h6>There's no history yet</h6>
            </div>
            <div class="Memory" style="display: none;">
                <h6 id="memoryContent">There's nothing saved in memory</h6>
            </div>

        </div>
        <div class="footer">
            <img id="deleteIcon" src="delete.jpg" width="18" height="18" onclick="clearHistory()">
        </div>
    </div>
    <script>
        let result = 0; 

        function calculate() {
            let expression = document.getElementById('display').value;
            let currentResult = math.evaluate(expression); 
          
            if (!isNaN(currentResult)) { 
                result = currentResult; 
                document.getElementById('display').value = result; 
                document.getElementById('display2').value = expression;
            } 
        }

        document.querySelector('.equal').addEventListener('click', calculate);

        function clearResult() {
            result = 0;
            document.getElementById('display').value = '0';
            document.getElementById('display2').value = '';
        }


    </script>
</body>
</html>
